<!DOCTYPE html>
<html lang = "ko">
<meta charset="utf-8">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device=width, initial-scale=1">
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-P98095BW1P"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-P98095BW1P');
        </script>
        <title>MBTI Test</title>
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <script src="https://code.jquery.com/jquery-latest.min.js"></script>
        <script>
            $(function(){
                var result = '';
                var gender = '';
                var info = '';
                var resultArr = [
                    {"type":"ESTJ","content":"엄격한 관리자","fruit":"라임"},
                    {"type":"ESTP","content":"모험을 즐기는 사업가","fruit":"오렌지"},
                    {"type":"ESFJ","content":"사교적인 외교관","fruit":"수박"},
                    {"type":"ESFP","content":"자유로운 영혼의 연예인","fruit":"체리"},
                    {"type":"ENTJ","content":"대담한 통솔자","fruit":"복숭아"},
                    {"type":"ENTP","content":"논쟁을 즐기는 변론가","fruit":"감"},
                    {"type":"ENFJ","content":"정의로운 사회운동가","fruit":"딸기"},
                    {"type":"ENFP","content":"재기발랄한 활동가","fruit":"바나나"},
                    {"type":"ISTJ","content":"청렴결백 논리주의자","fruit":"배"},
                    {"type":"ISTP","content":"만능 재주꾼","fruit":"망고"},
                    {"type":"ISFJ","content":"용감한 수호자","fruit":"사과"},
                    {"type":"ISFP","content":"호기심 많은 예술가","fruit":"포도"}
                ];
                
                $('#content1B1').click(function(){
                    gender += $('#content1B1').val();
                    info = $("#age option:selected").val();
                    if(info === 'none'){
                        alert('나이를 선택해주세요');
                    }else{
                        info = $("#age option:selected").val();
                        $('.content1').hide();
                        $('.content2').show();
                    }
                });
                $('#content1B2').click(function(){
                    gender += $('#content1B2').val();
                    info = $("#age option:selected").val();
                    if(info === 'none'){
                        alert('나이를 선택해주세요');
                    }else{
                        info = $("#age option:selected").val();
                        $('.content1').hide();
                        $('.content2').show();
                    }
                });

                $('#content1B3').click(function(){
                    result += $('#content1B3').val();
                    $('.content2').hide();
                    $('.content3').show();
                });
                $('#content1B4').click(function(){
                    result += $('#content1B4').val();
                    $('.content2').hide();
                    $('.content3').show();
                });

                $('#content1B5').click(function(){
                    result += $('#content1B5').val();
                    $('.content3').hide();
                    $('.content4').show();
                });
                $('#content1B6').click(function(){
                    result += $('#content1B6').val();
                    $('.content3').hide();
                    $('.content4').show();
                });

                $('#content1B7').click(function(){
                    result += $('#content1B7').val();
                    $('.content4').hide();
                    $('.content5').show();
                });
                $('#content1B8').click(function(){
                    result += $('#content1B8').val();
                    $('.content4').hide();
                    $('.content5').show();
                });

                $('#content1B9').click(function(){
                    result += $('#content1B9').val();
                    $('.content5').hide();
                    $('.content6').show();
                    var j = resultArr.find(x => x.type === result).type;
                    var i = resultArr.find(x => x.type === result).content;
                    $('#MBTI2').append('<p>'+j+'</p>');
                    $('#MBTI2').append('<p>'+i+'</p>');
                    $("#MBTI").attr("src", './1.jpeg');
                    //현재 주소를 가져온다.
                    var renewURL = location.href;
                    renewURL += '&type='+j+'&gender='+gender+'&age='+info;
                    //페이지 갱신 실행!
                    history.pushState(null, null, renewURL);
                });
                $('#content1B10').click(function(){
                    result += $('#content1B10').val();
                    $('.content5').hide();
                    $('.content6').show();
                    var j = resultArr.find(x => x.type === result).type;
                    var i = resultArr.find(x => x.type === result).content;
                    $('#MBTI2').append('<p>'+j+'</p>');
                    $('#MBTI2').append('<p>'+i+'</p>');
                    $("#MBTI").attr("src", './1.jpeg');
                    //현재 주소를 가져온다.
                    var renewURL = location.href;
                    renewURL += '&type='+j+'&gender='+gender+'&age='+info;
                    //페이지 갱신 실행!
                    history.pushState(null, null, url);
                });
            });

            function a(a) {
                switch (site) {
                    case 'naver' :
                        console.log("naver");
                        window.open('http://share.naver.com/web/shareView.nhn?url=' +encodeURIComponent(document.URL)+'&title='+encodeURIComponent(document.title), 'naversharedialog', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');
                        return false;
                    break;
                    case 'fb' :
                        console.log("fb");
                        window.open('https://www.facebook.com/sharer/sharer.php?u=' +encodeURIComponent(document.URL)+'&t='+encodeURIComponent(document.title), 'facebooksharedialog', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');
                        return false;
                    break;
                    case 'tw' :
                        console.log("tw");
                        window.open('https://twitter.com/intent/tweet?text=[%EA%B3%B5%EC%9C%A0]%20' +encodeURIComponent(document.URL)+'%20-%20'+encodeURIComponent(document.title), 'twittersharedialog', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');
                        return false;
                    break;
                    case 'google' :
                        console.log("google");
                        window.open('https://plus.google.com/share?url=' +encodeURIComponent(document.URL), 'googleplussharedialog','menubar=no,toolbar=no,resizable=yes, scrollbars=yes,height=350,width=600');
                        return false;
                    break;
                    case 'kakaotalk' :
                        console.log("katalk");
                    break;
                    case 'story' :
                        console.log("kastory");
                        window.open('https://story.kakao.com/s/share?url=' +encodeURIComponent(document.URL), 'kakaostorysharedialog', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes, height=400,width=600');
                        return false;
                    break;
                }
            }
        </script>
        <style>
            @media ( min-width: 768px) {}
            @media ( min-width: 1024px ) {}
            .top {
                background: url(images/fruits-1193727_1280.png);
                background-repeat: no-repeat;
                background-position: center;
            }
            
            .display-4 {
                font-size: 2.5rem;
                font-weight: bold;
            }
            
            .jumbotron {
                background-color: #fff;
                padding: 4rem 4rem;
                margin-bottom: 0;
            }
            
            button{
                background: url(./1.jpeg) no-repeat scroll 0 0 transparent;
                height: 300px;
                width: 300px;
                font-size: 24px;
                color: #fff;
                border-radius: 24px;
            }
            
            .container {
                background-color: rgba(255,255,255,0.7);
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .top_container {
                width: 50%;
            }
            
            .choice_text {
                background-color: rgba(0,0,0,0.6);
                margin-top: 210px;
            }
            
            .col-lg-6 {
                text-align: center;
            }

            .content1{
                display: inline-block;
            }
            
            .content2{
                display: none;
            }        
            
            .content3{
                display: none;
            }        
            
            .content4{
                display: none;
            }
            .content5{
                display: none;
            }
            .content6{
                display: none;
            }

            body {
                height: 100%;
            }
            
            #MBTI {
                width: 50%;
                height: 50%;
            }
            
            .share {
                list-style: none;
            }
            
            #content1B1 {
                background: url(./1.jpeg) no-repeat scroll 0 0 transparent;
            }
            
            #content1B2 {
                background: url(./tangerine.png) no-repeat scroll 0 0 transparent;
            }
        </style>
    </head>
    <body>
        <div class="top jumbotron jumbotron-fluid">
             <div class="text-center">
                  <div class="top_container container">
                    <h1 class="display-4">과일 MBTI</h1>
                    <h3 class="lead">과일을 어떻게 드시나요?</h3>
                  </div>
            </div>
        </div>
        
        <br>
        <br>

        <div class="text-center">
            <div class="content1 container container-fluid">
                <div class="jumbotron jumbotron-fluid">
                    <h1>자기소개</h1>
                    <br>
                    <br>
                    <select id="age">
                        <option value="none">선택하기</option>
                        <option value="10s">10대</option>
                        <option value="20s">20대</option>
                        <option value="30s">30대</option>
                        <option value="40s">40대</option>
                        <option value="50s">50대</option>
                        <option value="60s">60대</option>
                        <option value="70s">70대</option>
                        <option value="80s">80대</option>
                        <option value="90s">90대</option>
                    </select>
                    <div class="row">
                        <div class="col-lg-6 text-center">
                            <button id="content1B1" value="male"><p class="choice_text">남성</p></button>
                        </div>
                        <br>
                        <br>
                        <div class="col-lg-6 text-center">
                            <button id="content1B2" value="female"><p class="choice_text">여성</p></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="text-center">
            <div class="content2 container container-fluid">
                <div class="jumbotron jumbotron-fluid">
                    <h1>귤 : 농장 vs. 집</h1>
                    <br>
                    <br>
                    <div class="row">
                        <div class="col-lg-6 text-center">
                            <button id="content1B3" value="E"><p class="choice_text">농장에서 귤 따먹기</p></button>
                        </div>
                        <br>
                        <br>
                        <div class="col-lg-6 text-center">
                            <button id="content1B4" value="I"><p class="choice_text">집에서 귤 까먹기</p></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="text-center">
            <div class="content3 container container-fluid">
                <div class="jumbotron jumbotron-fluid">
                    <h1>새로운 과일 시도</h1>
                    <br><br>
                    <div class="row">
                        <div class="col-lg-6 text-center">
                            <button id="content1B5" value="S"><p class="choice_text">사과 한박스</p></button>
                        </div>
                        <br>
                        <br>
                        <div class="col-lg-6 text-center">
                            <button id="content1B6" value="N"><p class="choice_text">희귀 열대과일</p></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="text-center">
            <div class="content4 container container-fluid">
                <div class="jumbotron jumbotron-fluid">
                    <h1>못생긴 과일 vs. 이쁜 과일</h1>
                    <br><br>
                    <div class="row">
                        <div class="col-lg-6 text-center">
                            <button id="content1B7" value="T"><p class="choice_text">조금 못생겨도 맛있는 과일이 좋아</p></button>
                        </div>
                        <br>
                        <br>
                        <div class="col-lg-6 text-center">
                            <button id="content1B8" value="F"><p class="choice_text">무슨 소리야! 보기 좋은 과일이 맛도 좋지</p></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>  

        <div class="text-center">
            <div class="content5 container container-fluid">
                <div class="jumbotron jumbotron-fluid">
                    <h1>먹고 싶은게 있어</h1>
                    <br><br>
                    <div class="row">
                        <div class="col-lg-6 text-center">
                            <button id="content1B9" value="J"><p class="choice_text">살 과일을 정해놓고 그것만 사러간다</p></button>
                        </div>
                        <br>
                        <br>
                        <div class="col-lg-6 text-center">
                            <button id="content1B10" value="P"><p class="choice_text">가보고 끌리는 과일을 산다</p></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="text-center">
            <div class="content6 container container-fluid">
                <div class="jumbotron jumbotron-fluid">
                    <img id="MBTI" src=""/>
                    <div id="MBTI2"></div>
                    <div class="sns-go">
                        <ul class="share list-inline">
                            <!-- 네이버 블로그 공유 -->
                            <li로 class="list-inline-item">
                                <a href="#" id="naver" onclick="return a('naver')" target="_blank" alt="Share on Naver" ><img src="./images/sns_naver.png" width="40" alt="네이버 블로그 공유하기"></a>
                            </li로
                            <!-- 페이스북 공유 -->		
                            <li class="list-inline-item">
                                <a href="#" id="facebook" onclick="return a('fb')" target="_blank" alt="Share on Facebook" ><img src="./images/sns_face.png" width="40" alt="페이스북 공유하기"></a>
                            </li>
                            <!-- 트위터 공유 -->		
                            <li class="list-inline-item">
                                <a href="#" id="twitter" onclick="return a('tw')" target="_blank" alt="Share on Twitter" ><img src="./images/sns_tw.png" width="40" alt="트위터 공유하기"></a>
                            </li>
                            <!-- 구글 플러스 공유 -->		
                            <li class="list-inline-item">
                                <a href="#" id="googleplus" onclick="return a('google')" target="_blank" alt="Share on Google+"><img src="./images/sns_google.png" width="40" alt="구글 플러스 공유하기"></a>
                            </li>
                            <li class="list-inline-item">
                                <a href="#" id="kakaostory" onclick="return a('story')" target="_blank" alt="Share on kakaostory"><img src="./images/sns_kakao.png" width="40" alt="카카오스토리 공유하기"></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
  
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
        <script src="js/bootstrap.min.js"></script>
    </body>
</html>