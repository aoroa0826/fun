<!DOCTYPE html>
<html lang = "ko">
<meta charset="utf-8">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device=width, initial-scale=1">
        <title>MBTI Test</title>
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <script src="http://code.jquery.com/jquery-latest.min.js"></script>
        <script>
            /*
            질문 1 : 농장에서 귤 따먹기 (E) vs 집에서 귤 까먹기 (I)

            질문 2 : 5만원이 있을 때, 사과 한박스 (S) vs 희귀 열대과일 1개 (N)

            질문 3 : 조금 못생겨도 맛있는 과일이 좋아 (T) vs 무슨소리야! 보기 좋은 과일이 맛도 좋지! (F)

            질문 4 : 청과점에 가기 전에 살 과일을 정해놓고 그것만 사러간다 (J) vs 가보고 끌리는 과일을 산다 (P)

            ESTJ : 엄격한 관리자 -> 라임

            ESTP : 모험을 즐기는 사업가 -> 오렌지

            ESFJ : 사교적인 외교관 -> 수박

            ESFP : 자유로운 영혼의 연예인 -> 체리

            ENTJ : 대담한 통솔자 -> 복숭아

            ENTP : 논쟁을 즐기는 변론가 -> 감

            ENFJ : 정의로운 사회운동가 -> 딸기

            ENFP : 재기발랄한 활동가 -> 바나나

            ISTJ : 청렴결백 논리주의자 -> 배

            ISTP : 만능 재주꾼 -> 망고

            ISFJ : 용감한 수호자 -> 사과

            ISFP : 호기심 많은 예술가 -> 포도
            */
            $(function(){
                var result = '';
                var resultArr = [
                    {
                        "Type":"ESTJ",
                        "Content":"엄격한 관리자",
                        "Fruit":"라임",
                    },
                    {
                        "Type":"ESTP",
                        "Content":"모험을 즐기는 사업가",
                        "Fruit":"오렌지",
                    },
                    {
                        "Type":"ESFJ",
                        "Content":"사교적인 외교관",
                        "Fruit":"수박",
                    },
                    {
                        "Type":"ESFP",
                        "Content":"자유로운 영혼의 연예인",
                        "Fruit":"체리",
                    },
                    {
                        "Type":"ENTJ",
                        "Content":"대담한 통솔자",
                        "Fruit":"복숭아",
                    },
                    {
                        "Type":"ENTP",
                        "Content":"논쟁을 즐기는 변론가",
                        "Fruit":"감",
                    },
                    {
                        "Type":"ENFJ",
                        "Content":"정의로운 사회운동가",
                        "Fruit":"딸기",
                    },
                    {
                        "Type":"ENFP",
                        "Content":"재기발랄한 활동가",
                        "Fruit":"바나나",
                    },
                    {
                        "Type":"ISTJ",
                        "Content":"청렴결백 논리주의자",
                        "Fruit":"배",
                    },
                    {
                        "Type":"ISTP",
                        "Content":"만능 재주꾼",
                        "Fruit":"망고",
                    },
                    {
                        "Type":"ISFJ",
                        "Content":"용감한 수호자",
                        "Fruit":"사과",
                    },
                    {
                        "Type":"ISFP",
                        "Content":"호기심 많은 예술가",
                        "Fruit":"포도",
                    }
                ]

                $('#content1B1').click(function(){
                    result += $('#content1B1').val();
                    $('.content').hide();
                    $('.content2').show();
                });
                $('#content1B2').click(function(){
                    result += $('#content1B2').val();
                    $('.content').hide();
                    $('.content2').show();
                });

                $('#content1B3').click(function(){
                    result += $('#content1B3').val();
                    $('.content2').hide();
                    $('.content3').show();
                });
                $('#content1B4').click(function(){
                    result += $('#content1B4').val();
                    $('.content2').hide();
                    $('.content3').show();
                });

                $('#content1B5').click(function(){
                    result += $('#content1B5').val();
                    $('.content3').hide();
                    $('.content4').show();
                });
                $('#content1B6').click(function(){
                    result += $('#content1B6').val();
                    $('.content3').hide();
                    $('.content4').show();
                });

                $('#content1B7').click(function(){
                    result += $('#content1B7').val();
                    $('.content4').hide();
                    $('.content5').show();
                    var j = resultArr.find(x => x.Type === result).Type;
                    var i = resultArr.find(x => x.Type === result).Content
                    $('#MBTI2').append('<p>'+j+'</p>');
                    $('#MBTI2').append('<p>'+i+'</p>');
                    $("#MBTI").attr("src", './1.jpeg');
                });
                $('#content1B8').click(function(){
                    result += $('#content1B8').val();
                    $('.content4').hide();
                    $('.content5').show();
                    $('#fb-share-button').show();
                    var j = resultArr.find(x => x.Type === result).Type;
                    var i = resultArr.find(x => x.Type === result).Content;
                    $('#MBTI2').append('<p>'+j+'</p>');
                    $('#MBTI2').append('<p>'+i+'</p>');
                    $("#MBTI").attr("src", './1.jpeg');
                });
            });

        function a(a) {
            var site = a;
            $.ajax({
                type: "POST",
                url: 'http://3.34.199.243:3000/test',
                data: {
                    Shared:0,
                    Channel:site
                },
                data : console.log(data),
                dataType: JSON
            });
            switch (site) {
                case 'naver' :
                    console.log("naver");
                    window.open('http://share.naver.com/web/shareView.nhn?url=' +encodeURIComponent(document.URL)+'&title='+encodeURIComponent(document.title), 'naversharedialog', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');
                    return false;
                break;
                case 'fb' :
                    console.log("fb");
                    window.open('https://www.facebook.com/sharer/sharer.php?u=' +encodeURIComponent(document.URL)+'&t='+encodeURIComponent(document.title), 'facebooksharedialog', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');
                    return false;
                break;
                case 'tw' :
                    console.log("tw");
                    window.open('https://twitter.com/intent/tweet?text=[%EA%B3%B5%EC%9C%A0]%20' +encodeURIComponent(document.URL)+'%20-%20'+encodeURIComponent(document.title), 'twittersharedialog', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');
                    return false;
                break;
                case 'google' :
                    console.log("google");
                    window.open('https://plus.google.com/share?url=' +encodeURIComponent(document.URL), 'googleplussharedialog','menubar=no,toolbar=no,resizable=yes, scrollbars=yes,height=350,width=600');
                    return false;
                break;
                case 'kakaotalk' :
                    console.log("katalk");
                break;
                case 'story' :
                    console.log("kastory");
                    window.open('https://story.kakao.com/s/share?url=' +encodeURIComponent(document.URL), 'kakaostorysharedialog', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes, height=400,width=600');
                    return false;
                break;
            }
        }
        </script>
        <style>
            @media ( min-width: 768px) {

            }
            @media ( min-width: 1024px ) {

            }
            
            .top {
                height: 20%;
            }
            
            .display-4 {
                font-size: 2.5rem;
                font-weight: bold;
            }
            
            .jumbotron {
                background-color: #fbf0a6;
                padding: 2rem 2rem;
            }
            
            button{
                background: url(./1.jpeg) no-repeat scroll 0 0 transparent;
                height: 300px;
                width: 300px;
                font-size: 30px;
                color:white;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .col-lg-6 {
                text-align: center;
            }

            .content{
                display: inline-block;
            }
            
            .content2{
                display: none;

            }        
            
            .content3{
                display: none;
            }        
            
            .content4{
                display: none;
            }
            .content5{
                display: none;
            }

            body {
                height: 100%;
            }
            
            #MBTI {
                width: 50%;
                height: 50%;
            }
            
            .share {
                list-style: none;
            }
            
            #content1B1 {
                background: url(./1.jpeg) no-repeat scroll 0 0 transparent;
            }
            
            #content1B2 {
                background: url(./tangerine.png) no-repeat scroll 0 0 transparent;
            }
*/
        </style>
    </head>
    <body>
        <div class="top jumbotron jumbotron-fluid">
             <div class="text-center">
                  <div class="container">
                    <h1 class="display-4">과일 MBTI</h1>
                    <p class="lead">과일을 어떻게 드시나요?<br>과일 성향으로 나의 MBTI 확인하기.</p>
                  </div>
            </div>
        </div>
        
        <br>
        <br>
        
        <div class="text-center">
            <div class="content container container-fluid">
                <div class="jumbotron jumbotron-fluid">
                    <h1>귤 : 농장 vs. 집</h1>
                    <br><br>
                    
                    <div class="row">
                        <div class="col-lg-6 text-center">
                            <button id="content1B1" value="E">농장에서 귤 따먹기</button>
                        </div>
                        <br>
                        <br>
                        
                        <div class="col-lg-6 text-center">
                            <button id="content1B2" value="I">집에서 귤 까먹기</button>
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>        
        
        <div class="text-center">
            <div class="content2 container container-fluid">
                <div class="jumbotron jumbotron-fluid">
                    <h1>새로운 과일 시도</h1>
                    <br><br>
                    
                    <div class="row">
                        <div class="col-lg-6 text-center">
                            <button id="content1B3" value="S">사과 한박스</button>
                        </div>
                        <br>
                        <br>
                        
                        <div class="col-lg-6 text-center">
                            <button id="content1B4" value="N">희귀 열대과일</button>
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>
                
        <div class="text-center">
            <div class="content3 container container-fluid">
                <div class="jumbotron jumbotron-fluid">
                    <h1>못생긴 과일 vs. 이쁜 과일</h1>
                    <br><br>
                    
                    <div class="row">
                        <div class="col-lg-6 text-center">
                            <button id="content1B5" value="T">조금 못생겨도 맛있는 과일이 좋아</button>
                        </div>
                        <br>
                        <br>
                        
                        <div class="col-lg-6 text-center">
                            <button id="content1B6" value="F">무슨 소리야! 보기 좋은 과일이 맛도 좋지</button>
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>  
                      
        <div class="text-center">
            <div class="content4 container container-fluid">
                <div class="jumbotron jumbotron-fluid">
                    <h1>먹고 싶은게 있어</h1>
                    <br><br>
                    
                    <div class="row">
                        <div class="col-lg-6 text-center">
                            <button id="content1B7" value="J">청과점에 가기 전에 살 과일을 정해놓고 그것만 사러간다</button>
                        </div>
                        <br>
                        <br>
                        
                        <div class="col-lg-6 text-center">
                            <button id="content1B8" value="P">가보고 끌리는 과일을 산다</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="text-center">
            <div class="content5 container container-fluid">
                <div class="jumbotron jumbotron-fluid">
                    <img id="MBTI" src=""/>
                    <div id="MBTI2"></div>
                    <div class="sns-go">
                        <ul class="share list-inline">
                            <!-- 네이버 블로그 공유 -->
                            <li class="list-inline-item">
                                <a href="#" onclick="return a('naver')" target="_blank" alt="Share on Naver" ><img src="./images/sns_naver.png" width="40" alt="네이버 블러그 공유하기"></a>
                            </li>
                            <!-- 페이스북 공유 -->		
                            <li class="list-inline-item">
                                <a href="#" onclick="return a('fb')" target="_blank" alt="Share on Facebook" ><img src="./images/sns_face.png" width="40" alt="페이스북 공유하기"></a>
                            </li>
                            <!-- 트위터 공유 -->		
                            <li class="list-inline-item">
                                <a href="#" onclick="return a('tw')" target="_blank" alt="Share on Twitter" ><img src="./images/sns_tw.png" width="40" alt="트위터 공유하기"></a>
                            </li>
                            <!-- 구글 플러스 공유 -->		
                            <li class="list-inline-item">
                                <a href="#" onclick="return a('google')" target="_blank" alt="Share on Google+"><img src="./images/sns_google.png" width="40" alt="구글 플러스 공유하기"></a>
                            </li>
                            <!-- 카카오톡 공유 -->
                            <li class="list-inline-item">
                                <a href="javascript:shareKatalk()"><img src="./images/sns_ka.png" width="40" alt="카카오톡 공유하기"></a>
                            </li>
                            <!-- 카카오스토리 공유 -->		
                            <li class="list-inline-item">
                                <a href="#" onclick="return a('story')" target="_blank" alt="Share on kakaostory"><img src="./images/sns_kakao.png" width="40" alt="카카오스토리 공유하기"></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
  
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
        <script src="js/bootstrap.min.js"></script>
    </body>
</html>